# ğŸ¤– æœºå™¨äººæ—¥å¿—åˆ†æç³»ç»Ÿ

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æœºå™¨äººæ—¥å¿—æ™ºèƒ½åˆ†æå¹³å°ï¼Œé›†æˆå‰åç«¯ Web æœåŠ¡ã€å¤šç§åˆ†æå¼•æ“å’Œ AI å¢å¼ºæŠ¥å‘Šç”Ÿæˆèƒ½åŠ›ï¼Œæ”¯æŒä»»åŠ¡è¯†åˆ«ã€å¼‚å¸¸æ£€æµ‹ã€æŠ•è¯‰é—®é¢˜å®šä½ã€å†å²è¿½æº¯åˆ†æå’Œå¯è§†åŒ–æŠ¥å‘Šç”Ÿæˆã€‚

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [API æ¥å£](#api-æ¥å£)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [å‘½ä»¤è¡Œä½¿ç”¨](#å‘½ä»¤è¡Œä½¿ç”¨)
- [æŠ¥å‘Šè¾“å‡º](#æŠ¥å‘Šè¾“å‡º)
- [é«˜çº§ç”¨æ³•](#é«˜çº§ç”¨æ³•)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [ç‰ˆæœ¬å†å²](#ç‰ˆæœ¬å†å²)

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·ç•Œé¢å±‚                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚         Web å‰ç«¯ (HTML/CSS/JavaScript)                  â”‚   â”‚
â”‚   â”‚         - ä»ªè¡¨æ¿ã€æ—¥å¿—åˆ†æã€æŠ¥å‘ŠæŸ¥çœ‹ã€è®¾ç½®ç®¡ç†            â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åç«¯æœåŠ¡å±‚                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚            Flask REST API Server                         â”‚   â”‚
â”‚   â”‚    /api/status | /api/analyze | /api/reports | ...      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ ¸å¿ƒåˆ†æå±‚                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ç»¼åˆåˆ†æå™¨    â”‚  â”‚ æŠ•è¯‰åˆ†æå™¨    â”‚  â”‚ å†å²è¿½æº¯åˆ†æå™¨    â”‚   â”‚
â”‚   â”‚ Comprehensive â”‚  â”‚ Complaint     â”‚  â”‚ Historical Trace  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚              æŠ¥å‘Šç”Ÿæˆå™¨ (HTML/JSON/AIå¢å¼º)                â”‚ â”‚
â”‚   â”‚     EnhancedDetailedReportGenerator + DeepSeek AI        â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å¤–éƒ¨æœåŠ¡å±‚                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚        DeepSeek / OpenAI API (AI æ™ºèƒ½åˆ†æå¢å¼º)            â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ç»¼åˆæ—¥å¿—åˆ†æå™¨ (`comprehensive_robot_analyzer.py`)
- ğŸ” **ä»»åŠ¡é˜¶æ®µæ™ºèƒ½è¯†åˆ«** - è‡ªåŠ¨è¯†åˆ«ä»»åŠ¡å¼€å§‹/ç»“æŸã€å……ç”µã€è°ƒè¯•ã€åœ°å›¾ç»´æŠ¤ç­‰é˜¶æ®µ
- ğŸ“ **ä½ç½®æ•°æ®åˆ†æ** - å®æ—¶è¿½è¸ªæœºå™¨äººä½ç½®å’Œè¿åŠ¨è½¨è¿¹
- âš ï¸ **å¼‚å¸¸æ£€æµ‹** - ä¼ æ„Ÿå™¨æ‰çº¿ã€CPUé«˜è´Ÿè½½ã€æœºæ¢°æ•…éšœã€é€Ÿåº¦å¼‚å¸¸ç­‰æ£€æµ‹
- ğŸ“Š **ç³»ç»ŸçŠ¶æ€ç›‘æ§** - CPUã€å†…å­˜ã€ç”µæ± ã€æ¸©åº¦ç­‰ç³»ç»ŸæŒ‡æ ‡åˆ†æ

### 2. æŠ•è¯‰é—®é¢˜åˆ†æå™¨ (`complaint_analyzer.py`)
- ğŸ›‘ **åœæœºç‚¹ç²¾å‡†å®šä½** - æ£€æµ‹æœºå™¨äººå¼‚å¸¸åœæ­¢ä½ç½®å’Œæ—¶é—´
- ğŸ” **æ ¹å› åˆ†æ** - éšœç¢ç‰©é˜»æŒ¡ã€å¯¼èˆªå¤±è´¥ã€ä¼ æ„Ÿå™¨æ•…éšœç­‰åŸå› è¯†åˆ«
- ğŸ“ **æŠ•è¯‰åœºæ™¯åŒ¹é…** - è‡ªåŠ¨åŒ¹é…æŠ•è¯‰æè¿°ä¸æ—¥å¿—å¼‚å¸¸
- ğŸ’¡ **å¤„ç†å»ºè®®ç”Ÿæˆ** - åŸºäºåˆ†æç»“æœç»™å‡ºè§£å†³æ–¹æ¡ˆ

### 3. å†å²è¿½æº¯åˆ†æå™¨ (`historical_trace_analyzer.py`)
- ğŸ“… **ä»»åŠ¡åºåˆ—è¿½æº¯** - è¿½æº¯é—®é¢˜å‘ç”Ÿå‰çš„å†å²ä»»åŠ¡
- ğŸ“ˆ **æ€§èƒ½è¶‹åŠ¿åˆ†æ** - æ£€æµ‹æ€§èƒ½ä¸‹é™è¶‹åŠ¿å’Œå¼‚å¸¸æ¨¡å¼
- ğŸ”— **è·¨ä»»åŠ¡å…³è”** - å‘ç°ä»»åŠ¡é—´çš„å…³è”é—®é¢˜
- ğŸ¯ **æ ¹å› æŒ‡ç¤ºå™¨** - è¯†åˆ«æ½œåœ¨çš„æ ¹æœ¬åŸå› æŒ‡æ ‡

### 4. æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿ
- **åŸºç¡€æŠ¥å‘Š** (`report_generator.py`) - æ ‡å‡† HTML/JSON æŠ¥å‘Š
- **å¢å¼ºæŠ¥å‘Š** (`enhanced_detailed_report_generator.py`) - å¯è§†åŒ–å›¾è¡¨å’Œè¯¦ç»†åˆ†æ
- **AIå¢å¼ºæŠ¥å‘Š** (`deepseek_enhanced_report_generator.py`) - DeepSeek AI æ™ºèƒ½åˆ†æå»ºè®®

### 5. Web æœåŠ¡ç³»ç»Ÿ
- **åç«¯æœåŠ¡** (`backend/server.py`) - Flask REST API æœåŠ¡
- **å‰ç«¯ç•Œé¢** (`frontend/`) - å“åº”å¼ Web ç®¡ç†ç•Œé¢
  - ä»ªè¡¨æ¿æ¦‚è§ˆ
  - æ—¥å¿—åˆ†ææ§åˆ¶å°
  - æŠ¥å‘ŠæŸ¥çœ‹å™¨
  - ç³»ç»Ÿè®¾ç½®ç®¡ç†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.7+
- **æ“ä½œç³»ç»Ÿ**: macOS / Windows / Linux
- **å¯é€‰**: DeepSeek æˆ– OpenAI API Key (ç”¨äº AI å¢å¼ºåˆ†æ)

### 1. å®‰è£…ä¾èµ–

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd log_reader

# å®‰è£… Python ä¾èµ–
pip install -r requirements.txt
```

### 2. å¯åŠ¨ Web æœåŠ¡

```bash
# å¯åŠ¨åç«¯æœåŠ¡ (é»˜è®¤ç«¯å£ 8080)
python backend/server.py

# æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬
python start_server.py
```

### 3. è®¿é—®ç³»ç»Ÿ

æ‰“å¼€æµè§ˆå™¨è®¿é—®: **http://localhost:8080**

### 4. å¿«é€Ÿæµ‹è¯•

```bash
# æµ‹è¯•ç³»ç»ŸåŠŸèƒ½
python test_system.py

# æµ‹è¯• API è¿æ¥
python test_api_connection.py
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
log_reader/
â”œâ”€â”€ ğŸ“ backend/                      # åç«¯æœåŠ¡
â”‚   â””â”€â”€ server.py                   # Flask Web æœåŠ¡å™¨
â”œâ”€â”€ ğŸ“ frontend/                     # å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ index.html                  # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ script.js                   # å‰ç«¯é€»è¾‘
â”‚   â””â”€â”€ styles.css                  # æ ·å¼è¡¨
â”œâ”€â”€ ğŸ“ logs/                         # æ—¥å¿—æ–‡ä»¶ç›®å½• (è¾“å…¥)
â”‚   â”œâ”€â”€ *.txt                       # æ–‡æœ¬æ—¥å¿—
â”‚   â”œâ”€â”€ *.log                       # æ ‡å‡†æ—¥å¿—
â”‚   â””â”€â”€ cartographer_node.*         # Cartographer æ—¥å¿—
â”œâ”€â”€ ğŸ“ reports/                      # ç”Ÿæˆçš„æŠ¥å‘Š (è¾“å‡º)
â”œâ”€â”€ ğŸ“ temp_reports/                 # ä¸´æ—¶æŠ¥å‘Š
â”œâ”€â”€ ğŸ“ reports_new/                  # æ–°ç‰ˆæŠ¥å‘Š
â”œâ”€â”€ ğŸ“ final_reports/                # æœ€ç»ˆæŠ¥å‘Šå­˜æ¡£
â”‚
â”œâ”€â”€ ğŸ“„ æ ¸å¿ƒåˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ comprehensive_robot_analyzer.py    # ç»¼åˆåˆ†æå™¨ (728è¡Œ)
â”‚   â”œâ”€â”€ advanced_log_analyzer.py           # é«˜çº§æ—¥å¿—åˆ†æå™¨ (585è¡Œ)
â”‚   â”œâ”€â”€ complaint_analyzer.py              # æŠ•è¯‰åˆ†æå™¨ (602è¡Œ)
â”‚   â”œâ”€â”€ historical_trace_analyzer.py       # å†å²è¿½æº¯åˆ†æå™¨ (626è¡Œ)
â”‚   â””â”€â”€ complete_robot_log_analyzer.py     # åˆ†æå™¨å…¥å£
â”‚
â”œâ”€â”€ ğŸ“„ æŠ¥å‘Šç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ report_generator.py                       # åŸºç¡€æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ enhanced_report_generator.py              # å¢å¼ºæŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ enhanced_detailed_report_generator.py     # è¯¦ç»†å¢å¼ºæŠ¥å‘Š (677è¡Œ)
â”‚   â”œâ”€â”€ deepseek_enhanced_report_generator.py     # AIå¢å¼ºæŠ¥å‘Š (1023è¡Œ)
â”‚   â””â”€â”€ gpt_enhanced_report_generator.py          # GPTå¢å¼ºæŠ¥å‘Š
â”‚
â”œâ”€â”€ ğŸ“„ é…ç½®ä¸å…¥å£
â”‚   â”œâ”€â”€ config.py                   # é…ç½®æ–‡ä»¶ (API/è·¯å¾„/å‚æ•°)
â”‚   â”œâ”€â”€ start_server.py             # æœåŠ¡å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ run_frontend.py             # å‰ç«¯å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ requirements.txt            # Python ä¾èµ–
â”‚
â”œâ”€â”€ ğŸ“„ æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ test_system.py              # ç³»ç»ŸåŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ test_api_connection.py      # APIè¿æ¥æµ‹è¯•
â”‚   â”œâ”€â”€ test_deepseek_connection.py # DeepSeekæµ‹è¯•
â”‚   â””â”€â”€ test_*.py                   # å…¶ä»–æµ‹è¯•è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“„ æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜ (æœ¬æ–‡ä»¶)
â”‚   â”œâ”€â”€ architecture.md             # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ task.md                     # ä»»åŠ¡è§„åˆ’
â”‚   â””â”€â”€ README_SECURITY.md          # å®‰å…¨è¯´æ˜
â”‚
â””â”€â”€ ğŸ“ trickyuser/                   # æ‰©å±•ç”¨æˆ·æ¨¡å—
    â”œâ”€â”€ logs/
    â””â”€â”€ src/
```

---

## ğŸ”Œ API æ¥å£

### åŸºç¡€æ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/status` | GET | ç³»ç»ŸçŠ¶æ€æ£€æŸ¥ |
| `/api/test` | GET | API è¿æ¥æµ‹è¯• |
| `/api/logs` | GET | è·å–æ—¥å¿—æ–‡ä»¶åˆ—è¡¨ |

### åˆ†ææ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/analyze` | POST | æ‰§è¡Œæ—¥å¿—åˆ†æ |
| `/api/reports` | GET | è·å–æŠ¥å‘Šåˆ—è¡¨ |
| `/api/report` | GET | è·å–å•ä¸ªæŠ¥å‘Šå†…å®¹ |

### è®¾ç½®æ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/settings` | GET | è·å–å½“å‰è®¾ç½® |
| `/api/settings` | POST | æ›´æ–°è®¾ç½® |

### åˆ†æè¯·æ±‚ç¤ºä¾‹

```bash
# åŸºç¡€åˆ†æ
curl -X POST http://localhost:8080/api/analyze \
  -H "Content-Type: application/json" \
  -d '{"log_directory": "./logs", "enable_ai": false, "report_type": "basic"}'

# ç»¼åˆåˆ†æ (å«AIå¢å¼º)
curl -X POST http://localhost:8080/api/analyze \
  -H "Content-Type: application/json" \
  -d '{"log_directory": "./logs", "enable_ai": true, "report_type": "comprehensive"}'

# å¸¦æŠ•è¯‰æ—¶é—´çš„åˆ†æ
curl -X POST http://localhost:8080/api/analyze \
  -H "Content-Type: application/json" \
  -d '{"log_directory": "./logs", "complaint_time": "2025-10-15 14:30:00"}'
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `config.py` ä¸­é…ç½®æˆ–é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®:

```bash
# æ—¥å¿—å’ŒæŠ¥å‘Šè·¯å¾„
export LOG_DIRECTORY="./logs"
export REPORTS_DIRECTORY="./reports"
export TEMP_REPORTS_DIRECTORY="./temp_reports"

# OpenAI API (å¯é€‰)
export OPENAI_API_KEY="sk-your-key"
export BASE_URL="https://api.openai.com/v1"

# DeepSeek API (å¯é€‰ï¼Œç”¨äºAIå¢å¼ºæŠ¥å‘Š)
export DEEPSEEK_API_KEY="sk-your-deepseek-key"
export DEEPSEEK_BASE_URL="https://api.deepseek.com/v1"
export DEEPSEEK_MODEL="deepseek-chat"
export USE_DEEPSEEK="true"

# AI è¯·æ±‚å‚æ•°
export MAX_TOKENS="1000"
export TEMPERATURE="0.7"
export REQUEST_TIMEOUT="30"
```

### é…ç½®æ–‡ä»¶è¯´æ˜ (`config.py`)

```python
import os

# ç›®å½•é…ç½®
LOG_DIRECTORY = os.getenv("LOG_DIRECTORY", "./logs")
REPORTS_DIRECTORY = os.getenv("REPORTS_DIRECTORY", "./reports")
TEMP_REPORTS_DIRECTORY = os.getenv("TEMP_REPORTS_DIRECTORY", "./temp_reports")

# AI API é…ç½®
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")
DEEPSEEK_API_KEY = os.getenv("DEEPSEEK_API_KEY")
USE_DEEPSEEK = os.getenv("USE_DEEPSEEK", "false").lower() == "true"

# åŠ¨æ€é€‰æ‹© API
API_KEY = DEEPSEEK_API_KEY if USE_DEEPSEEK else OPENAI_API_KEY
```

---

## ğŸ’» å‘½ä»¤è¡Œä½¿ç”¨

### ç›´æ¥è¿è¡Œåˆ†æå™¨

```bash
# åŸºç¡€ç»¼åˆåˆ†æ
python comprehensive_robot_analyzer.py -d ./logs -o ./reports

# æŠ•è¯‰é—®é¢˜åˆ†æ
python complaint_analyzer.py -d ./logs --complaint-time "2025-10-15 14:30:00"

# å†å²è¿½æº¯åˆ†æ
python historical_trace_analyzer.py -d ./logs -o ./reports
```

### å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `-d, --directory` | æ—¥å¿—ç›®å½•è·¯å¾„ | `-d ./logs` |
| `-o, --output` | è¾“å‡ºç›®å½•è·¯å¾„ | `-o ./reports` |
| `--complaint-time` | æŠ•è¯‰æ—¶é—´ç‚¹ | `--complaint-time "2025-10-15 14:30:00"` |
| `--analysis-type` | åˆ†æç±»å‹ | `--analysis-type comprehensive` |

### åˆ†æç±»å‹

- `basic` - åŸºç¡€åˆ†æ
- `comprehensive` - ç»¼åˆæ·±åº¦åˆ†æ
- `complaint` - æŠ•è¯‰é—®é¢˜åˆ†æ
- `historical` - å†å²è¿½æº¯åˆ†æ
- `deepseek_enhanced` - AIå¢å¼ºåˆ†æ

---

## ğŸ“Š æŠ¥å‘Šè¾“å‡º

### è¾“å‡ºæ–‡ä»¶ç±»å‹

| æ–‡ä»¶ç±»å‹ | æ ¼å¼ | è¯´æ˜ |
|----------|------|------|
| `comprehensive_report_*.json` | JSON | ç»¼åˆåˆ†ææ•°æ® |
| `historical_trace_report_*.json` | JSON | å†å²è¿½æº¯æ•°æ® |
| `integrated_report_*.json` | JSON | é›†æˆæŠ¥å‘Šæ•°æ® |
| `enhanced_detailed_report_*.html` | HTML | å¯è§†åŒ–è¯¦ç»†æŠ¥å‘Š |
| `deepseek_enhanced_report_*.html` | HTML | AIå¢å¼ºå¯è§†åŒ–æŠ¥å‘Š |

### æŠ¥å‘Šå†…å®¹ç»“æ„

#### ç»¼åˆåˆ†ææŠ¥å‘Š
```json
{
  "report_metadata": {
    "report_id": "comprehensive_report_20251128_125145",
    "generated_at": "2025-11-28T12:51:45",
    "analysis_type": "comprehensive"
  },
  "analysis_summary": {
    "total_log_files": 10,
    "total_anomalies": 5,
    "total_task_segments": 3
  },
  "task_segments": [...],
  "anomalies": [...],
  "recommendations": [...]
}
```

#### HTML æŠ¥å‘Šç‰¹æ€§
- ğŸ“ˆ æ—¶é—´çº¿å¯è§†åŒ–å›¾è¡¨
- ğŸ“Š å¼‚å¸¸åˆ†å¸ƒç»Ÿè®¡å›¾
- ğŸ—ºï¸ ä½ç½®è½¨è¿¹å±•ç¤º
- ğŸ’¡ AI æ™ºèƒ½å»ºè®® (å¦‚å¯ç”¨)
- ğŸ“± å“åº”å¼è®¾è®¡

---

## ğŸ”§ é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰åˆ†æå‚æ•°

```python
from comprehensive_robot_analyzer import ComprehensiveRobotAnalyzer

analyzer = ComprehensiveRobotAnalyzer('./logs')

# è‡ªå®šä¹‰ä»»åŠ¡è¯†åˆ«æ¨¡å¼
analyzer.task_patterns['custom_task'] = [
    r'è‡ªå®šä¹‰ä»»åŠ¡æ¨¡å¼',
    r'custom.*task.*pattern'
]

# è‡ªå®šä¹‰å¼‚å¸¸æ£€æµ‹æ¨¡å¼
analyzer.anomaly_patterns['custom_anomaly'] = [
    r'è‡ªå®šä¹‰å¼‚å¸¸å…³é”®è¯',
    r'custom.*error'
]

# æ‰§è¡Œåˆ†æ
analyzer.analyze_all_logs()
report = analyzer.generate_comprehensive_report()
```

### æ‰©å±•æŠ¥å‘Šç”Ÿæˆå™¨

```python
from enhanced_detailed_report_generator import EnhancedDetailedReportGenerator

class CustomReportGenerator(EnhancedDetailedReportGenerator):
    def add_custom_section(self, data):
        # æ·»åŠ è‡ªå®šä¹‰æŠ¥å‘Šç« èŠ‚
        pass
```

### é›†æˆå¤–éƒ¨ AI æœåŠ¡

```python
from deepseek_enhanced_report_generator import DeepSeekEnhancedReportGenerator

generator = DeepSeekEnhancedReportGenerator(
    analysis_report_path='./temp_reports/report.json',
    api_key='your-api-key',
    base_url='https://your-api-endpoint/v1'
)
generator.generate_detailed_report('./reports/ai_report.html')
```

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :8080

# ä½¿ç”¨å…¶ä»–ç«¯å£
python backend/server.py --port 9090
```

#### 2. ä¾èµ–å®‰è£…é—®é¢˜
```bash
# å‡çº§ pip
pip install --upgrade pip

# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt --force-reinstall
```

#### 3. AI åˆ†æåŠŸèƒ½å¼‚å¸¸
```bash
# æµ‹è¯• DeepSeek è¿æ¥
python test_deepseek_connection.py

# æ£€æŸ¥ API Key é…ç½®
python -c "from config import DEEPSEEK_API_KEY; print(bool(DEEPSEEK_API_KEY))"
```

#### 4. æ—¥å¿—æ–‡ä»¶ç¼–ç é—®é¢˜
- ç¡®ä¿æ—¥å¿—æ–‡ä»¶ä¸º UTF-8 ç¼–ç 
- æ£€æŸ¥æ—¶é—´æˆ³æ ¼å¼æ˜¯å¦æ­£ç¡®

### è°ƒè¯•æ¨¡å¼

```python
import logging
logging.basicConfig(level=logging.DEBUG)

# æˆ–åœ¨é…ç½®ä¸­å¯ç”¨
export FLASK_DEBUG=1
```

---

## ğŸ”„ ç‰ˆæœ¬å†å²

### v2.0 (å½“å‰ç‰ˆæœ¬)
- âœ… å®Œæ•´çš„ Web å‰åç«¯ç³»ç»Ÿ
- âœ… DeepSeek AI æ™ºèƒ½åˆ†æé›†æˆ
- âœ… å¢å¼ºç‰ˆå¯è§†åŒ– HTML æŠ¥å‘Š
- âœ… å“åº”å¼ Web ç®¡ç†ç•Œé¢
- âœ… å¤šç§åˆ†æå™¨ååŒå·¥ä½œ
- âœ… RESTful API æ¥å£

### v1.0
- âœ… æ ¸å¿ƒæ—¥å¿—åˆ†æåŠŸèƒ½
- âœ… ä»»åŠ¡è¯†åˆ«å’Œå¼‚å¸¸æ£€æµ‹
- âœ… æŠ•è¯‰åˆ†æå’Œå†å²è¿½æº¯
- âœ… åŸºç¡€æŠ¥å‘Šç”Ÿæˆ

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

## ğŸš€ å¿«é€Ÿä½“éªŒ

```bash
# 1. å…‹éš†/ä¸‹è½½é¡¹ç›®
cd log_reader

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. å¯åŠ¨æœåŠ¡
python backend/server.py

# 4. æ‰“å¼€æµè§ˆå™¨è®¿é—®
open http://localhost:8080
```

**ğŸ‰ å¼€å§‹æ¢ç´¢æœºå™¨äººæ—¥å¿—æ™ºèƒ½åˆ†æçš„ä¸–ç•Œï¼**
